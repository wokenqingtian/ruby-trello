<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class Trello::Label - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
  var index_rel_prefix = "../";
</script>

<script src="../js/navigation.js" defer></script>
<script src="../js/search.js" defer></script>
<script src="../js/search_index.js" defer></script>
<script src="../js/searcher.js" defer></script>
<script src="../js/darkfish.js" defer></script>

<link href="../css/fonts.css" rel="stylesheet">
<link href="../css/rdoc.css" rel="stylesheet">




<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../table_of_contents.html#pages">Pages</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link"><a href="BasicData.html">Trello::BasicData</a>
  
</div>

    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-c-create">::create</a>
    
    <li ><a href="#method-c-find">::find</a>
    
    <li ><a href="#method-c-label_colours">::label_colours</a>
    
    <li ><a href="#method-c-new">::new</a>
    
    <li ><a href="#method-i-color">#color</a>
    
    <li ><a href="#method-i-color-3D">#color=</a>
    
    <li ><a href="#method-i-delete">#delete</a>
    
    <li ><a href="#method-i-save">#save</a>
    
    <li ><a href="#method-i-update-21">#update!</a>
    
    <li ><a href="#method-i-update_fields">#update_fields</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-Trello::Label">
  <h1 id="class-Trello::Label" class="class">
    class Trello::Label
  </h1>

  <section class="description">
    
<p>A colored <a href="Label.html"><code>Label</code></a> attached to a card</p>

<p>@!attribute [rw] id</p>

<pre class="ruby"><span class="ruby-ivar">@return</span> [<span class="ruby-constant">String</span>]
</pre>

<p>@!attribute [rw] color</p>

<pre class="ruby"><span class="ruby-ivar">@return</span> [<span class="ruby-constant">String</span>]
</pre>

  </section>

  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    
    <section class="constants-list">
      <header>
        <h3>Constants</h3>
      </header>
      <dl>
      
        <dt id="SYMBOL_TO_STRING">SYMBOL_TO_STRING
        
        <dd>
        
      
        <dt id="VALID_LABEL_COLOURS">VALID_LABEL_COLOURS
        
        <dd>
        
      
      </dl>
    </section>
    

    

    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-create" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">create</span><span
            class="method-args">(options)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Create a new label and save it on <a href="../Trello.html"><code>Trello</code></a>.</p>
          
          

          
          <div class="method-source-code" id="create-source">
            <pre><span class="ruby-comment"># File lib/trello/label.rb, line 32</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">create</span>(<span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">client</span>.<span class="ruby-identifier">create</span>(<span class="ruby-value">:label</span>,
    <span class="ruby-string">&#39;name&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:name</span>],
    <span class="ruby-string">&#39;idBoard&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:board_id</span>],
    <span class="ruby-string">&#39;color&#39;</span>   <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:color</span>],
  )
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-find" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">find</span><span
            class="method-args">(id, params = {})</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Find a specific label by its id.</p>
          
          

          
          <div class="method-source-code" id="find-source">
            <pre><span class="ruby-comment"># File lib/trello/label.rb, line 27</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">find</span>(<span class="ruby-identifier">id</span>, <span class="ruby-identifier">params</span> = {})
  <span class="ruby-identifier">client</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">:label</span>, <span class="ruby-identifier">id</span>, <span class="ruby-identifier">params</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-label_colours" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">label_colours</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p><a href="Label.html"><code>Label</code></a> colours</p>
          
          

          
          <div class="method-source-code" id="label_colours-source">
            <pre><span class="ruby-comment"># File lib/trello/label.rb, line 41</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">label_colours</span>
  <span class="ruby-constant">VALID_LABEL_COLOURS</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">(fields = {})</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File lib/trello/label.rb, line 73</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">initialize</span>(<span class="ruby-identifier">fields</span> = {})
  <span class="ruby-identifier">initialize_fields</span>(<span class="ruby-identifier">fields</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-color" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">color</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="color-source">
            <pre><span class="ruby-comment"># File lib/trello/label.rb, line 48</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">color</span>
  <span class="ruby-ivar">@__attributes</span>[<span class="ruby-value">:color</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-color-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">color=</span><span
            class="method-args">(colour)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="color-3D-source">
            <pre><span class="ruby-comment"># File lib/trello/label.rb, line 52</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">color=</span> <span class="ruby-identifier">colour</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-constant">Label</span>.<span class="ruby-identifier">label_colours</span>.<span class="ruby-identifier">include?</span> <span class="ruby-identifier">colour</span>
    <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add</span>(<span class="ruby-value">:label</span>, <span class="ruby-node">&quot;color &#39;#{colour}&#39; does not exist&quot;</span>)
    <span class="ruby-keyword">return</span> <span class="ruby-constant">Trello</span>.<span class="ruby-identifier">logger</span>.<span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;The label colour &#39;#{colour}&#39; does not exist.&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:&quot;color_will_change!&quot;</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">colour</span> <span class="ruby-operator">==</span> <span class="ruby-ivar">@__attributes</span>[<span class="ruby-value">:color</span>]
  <span class="ruby-ivar">@__attributes</span>[<span class="ruby-value">:color</span>] = <span class="ruby-identifier">colour</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-delete" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">delete</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Delete this label</p>
          
          

          
          <div class="method-source-code" id="delete-source">
            <pre><span class="ruby-comment"># File lib/trello/label.rb, line 107</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">delete</span>
  <span class="ruby-identifier">client</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-node">&quot;/labels/#{id}&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-save" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">save</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Saves a record.</p>
          
          

          
          <div class="method-source-code" id="save-source">
            <pre><span class="ruby-comment"># File lib/trello/label.rb, line 81</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">save</span>
  <span class="ruby-comment"># If we have an id, just update our fields.</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">update!</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">id</span>

  <span class="ruby-identifier">from_response</span> <span class="ruby-identifier">client</span>.<span class="ruby-identifier">post</span>(<span class="ruby-string">&quot;/labels&quot;</span>, {
    <span class="ruby-value">name:</span>   <span class="ruby-identifier">name</span>,
    <span class="ruby-value">color:</span>   <span class="ruby-identifier">color</span>,
    <span class="ruby-value">idBoard:</span> <span class="ruby-identifier">board_id</span>,
  })
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-update-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">update!</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Update an existing record. Warning, this updates all fields using values already in memory. If an external resource has updated these fields, you should refresh! this object before making your changes, and before updating the record.</p>
          
          

          
          <div class="method-source-code" id="update-21-source">
            <pre><span class="ruby-comment"># File lib/trello/label.rb, line 96</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">update!</span>
  <span class="ruby-ivar">@previously_changed</span> = <span class="ruby-identifier">changes</span>
  <span class="ruby-comment"># extract only new values to build payload</span>
  <span class="ruby-identifier">payload</span> = <span class="ruby-constant">Hash</span>[<span class="ruby-identifier">changes</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">values</span><span class="ruby-operator">|</span> [<span class="ruby-constant">SYMBOL_TO_STRING</span>[<span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_sym</span>].<span class="ruby-identifier">to_sym</span>, <span class="ruby-identifier">values</span>[<span class="ruby-value">1</span>]] }]
  <span class="ruby-ivar">@changed_attributes</span>.<span class="ruby-identifier">clear</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@changed_attributes</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:clear</span>)
  <span class="ruby-identifier">changes_applied</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:changes_applied</span>)

  <span class="ruby-identifier">client</span>.<span class="ruby-identifier">put</span>(<span class="ruby-node">&quot;/labels/#{id}&quot;</span>, <span class="ruby-identifier">payload</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-update_fields" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">update_fields</span><span
            class="method-args">(fields)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Update the fields of a label.</p>

<p>Supply a hash of stringkeyed data retrieved from the <a href="../Trello.html"><code>Trello</code></a> API representing a label.</p>
          
          

          
          <div class="method-source-code" id="update_fields-source">
            <pre><span class="ruby-comment"># File lib/trello/label.rb, line 66</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">update_fields</span>(<span class="ruby-identifier">fields</span>)
  <span class="ruby-identifier">send</span>(<span class="ruby-string">&#39;name_will_change!&#39;</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">fields_has_key?</span>(<span class="ruby-identifier">fields</span>, <span class="ruby-value">:name</span>)
  <span class="ruby-identifier">send</span>(<span class="ruby-string">&#39;color_will_change!&#39;</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">fields_has_key?</span>(<span class="ruby-identifier">fields</span>, <span class="ruby-value">:color</span>)

  <span class="ruby-identifier">initialize_fields</span>(<span class="ruby-identifier">fields</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>

</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.1.2.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

